<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Dashboard</title>
    <script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />
    <link href="https://fonts.googleapis.com/css2?family=Inter&display=swap" rel="stylesheet" />
    <style>
      [x-cloak] { display: none !important; }
    </style>
    <style>
        body {
            font-family: "Inter", sans-serif;
        }
        .shadow-custom {
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        .hover-scale {
            transition: transform 0.2s;
        }
        .hover-scale:hover {
            transform: translateY(-2px);
        }
    </style>
    <style>
        :where([class^="ri-"])::before { content: "\f3c2"; }
    </style>
    <script>
        tailwind.config={
            theme:{
                extend:{
                    colors:{
                        primary:'#4CAF50',
                        secondary:'#F44336'
                    },
                    borderRadius:{
                        'none':'0px',
                        'sm':'4px',
                        DEFAULT:'8px',
                        'md':'12px',
                        'lg':'16px',
                        'xl':'20px',
                        '2xl':'24px',
                        '3xl':'32px',
                        'full':'9999px',
                        'button':'8px'
                    }
                }
            }
        }
    </script>
</head>

<body class="bg-white text-black" x-data="{ showModal: false }">
    <div class="flex h-[100vh] border border-t-0 border-b-0 border-l-0 ">
        <!-- Sidebar -->
        <aside class="w-64 flex flex-col border-r border-[#4a7a82]">
            <div class="flex items-center justify-start px-4 py-4 "> <button aria-label="Back"
                    class="text-black text-2xl font-bold"> <i class="fas fa-arrow-left"></i> </button> </div>
            <div class="flex flex-col items-center py-6 relative">
                <div class="relative w-20 h-20 mx-auto"> <!-- Container with explicit size and auto margins -->
                    <!-- Top half-circle border (centered) -->
                    <div class="absolute top-0 left-0 w-full h-full rounded-full border-t-2 border-[#4C888E] border-l-0 border-r-0 border-b-0"></div>
                    
                    <!-- Bottom half-circle border (centered) -->
                    <div class="absolute top-0 left-0 w-full h-full rounded-full border-b-2 border-[#4C888E] border-t-0 border-l-0 border-r-0"></div>
                    
                    <!-- Centered profile icon -->
                    <div class="absolute inset-0 flex items-center justify-center">
                      <div class="w-16 h-16 rounded-full bg-[#4C888E] flex items-center justify-center">
                        <i class="fas fa-user-circle text-black text-3xl"></i>
                      </div>
                    </div>
                  </div>
                <p class="mt-4 text-center text-sm">{{user.username}}</p>
                <p class="text-center text-xs mt-1">{{user.email}}</p>
            </div>
            <!-- Include Lucide Icons via CDN -->
<script src="https://unpkg.com/lucide@latest"></script>

<nav class="flex flex-col px-6 py-4 space-y-6 text-sm font-normal text-gray-700">
  <a href="{% url 'admin_dashboard' %}" class="flex items-center space-x-3 font-semibold text-[#4a7a82]">
    <i data-lucide="layout-dashboard" class="w-5 h-5"></i>
    <span>Dashboard</span>
  </a>
  <a href="{% url 'add_category' %}" class="flex items-center space-x-3 hover:text-[#4a7a82]">
    <i data-lucide="layers" class="w-5 h-5"></i>
    <span>Category management</span>
  </a>
  <a href="{% url 'buyers-list' %}" class="flex items-center space-x-3 hover:text-[#4a7a82]">
    <i data-lucide="users" class="w-5 h-5"></i>
    <span>User management</span>
  </a>
  <!-- <a href="{% url 'seller_requests' %}" class="flex items-center space-x-3 hover:text-[#4a7a82]">
    <i data-lucide="users" class="w-5 h-5"></i>
    <span>Sellers requests</span>
  </a> -->
  <a href="{% url 'sellers-list' %}" class="flex items-center space-x-3 hover:text-[#4a7a82]">
    <i data-lucide="users" class="w-5 h-5"></i>
    <span>Sellers</span>
  </a>
  <a href="{% url 'delivery-agents-list' %}" class="flex items-center space-x-3 hover:text-[#4a7a82]">
    <i data-lucide="users" class="w-5 h-5"></i>
    <span>Delivery Agents</span>
  </a>
  <div>
    <button onclick="toggleDropdown()" class="flex items-center w-full space-x-3 hover:text-[#4a7a82] focus:outline-none">
      <i data-lucide="package" class="w-5 h-5"></i>
      <span>Manage Products</span>
      <!-- <i class="fas fa-chevron-down ml-auto text-xs"></i> -->
    </button>

    <div id="productDropdown" class="mt-2 ml-6 space-y-2 hidden">
      <a href="{% url 'manage_products' %}?status=pending" class="block hover:text-[#4a7a82]">product requests</a>
      <a href="{% url 'manage_products' %}?status=approved" class="block hover:text-[#4a7a82]">approved products</a>
      <a href="{% url 'low_stock_products' %}?status=low_stock" class="block hover:text-[#4a7a82]">low stock products</a>
      <a href="{% url 'low_stock_products' %}?status=out_of_stock" class="block hover:text-[#4a7a82]">stock out products</a>
    </div>
  </div>
  <a href="{% url 'order_management' %}?status=Pending" class="flex items-center space-x-3 hover:text-[#4a7a82]">
    <i data-lucide="file-text" class="w-5 h-5"></i>
    <span>Orders</span>
  </a>
  <!-- <a href="#" class="flex items-center space-x-3 hover:text-[#4a7a82]">
    <i data-lucide="file-bar-chart" class="w-5 h-5"></i>
    <span>Transaction</span>
  </a>
  <a href="#" class="flex items-center space-x-3 relative hover:text-[#4a7a82]">
    <div class="relative">
      <i data-lucide="users" class="w-5 h-5"></i>
      <span class="absolute -top-2 -right-2 text-[10px] bg-white text-[#4a7a82] font-bold">!</span>
    </div>
    <span>Complains</span>
  </a> -->
  <!-- <a href="#" class="flex items-center space-x-3 hover:text-[#4a7a82]">
    <i data-lucide="settings" class="w-5 h-5"></i>
    <span>Settings</span>
  </a> -->
  <button @click="showModal = true" class="flex items-center space-x-3 hover:text-[#4a7a82]">
    <i data-lucide="log-out" class="w-5 h-5"></i>
    <span>Log out</span>
  </button>
</nav>

<script>
  lucide.createIcons();
</script>
<div
    x-show="showModal"
    x-cloak
    class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"
  >
    <div class="bg-white rounded-3xl p-8 w-96 text-center relative shadow-lg">
      
      <!-- Close Button -->
      <button @click="showModal = false" class="absolute top-4 right-4 text-2xl">&times;</button>
      
      <!-- Icon -->
      <div class="text-5xl text-red-500 mb-4">
        âžœ
      </div>

      <!-- Message -->
      <h2 class="text-2xl font-semibold mb-2">Ready To Leave?</h2>
      <p class="text-gray-600 mb-6">Are you about to log out from the admin panel</p>

      <!-- Buttons -->
      <div class="flex justify-center gap-4">
        <button
          @click="showModal = false"
          class="px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-100"
        >
          Cancel
        </button>
        
          <!-- CSRF token if using Django -->
          <a
            href="{% url 'logout' %}"
            type="submit"
            class="px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700"
          >
            Log out
          </a>
        
      </div>
    </div>
  </div>
{% block content %}

{% endblock %}


  <script>
  function toggleDropdown() {
    const dropdown = document.getElementById("productDropdown");
    dropdown.classList.toggle("hidden");
  }

  lucide.createIcons();
</script> 
<script>
    setTimeout(function() {
        var element = document.querySelector('#message');
        if (element) {
            element.style.display = 'none';
        }
    }, 1000);
</script>
</body>

</html>